# =============================================================================
# ADVANCED RAG SYSTEM - ENVIRONMENT CONFIGURATION
# =============================================================================

# -----------------------------------------------------------------------------
# PROJECT CONFIGURATION
# -----------------------------------------------------------------------------
PROJECT_NAME=awesome-chatbot
SERVICE_VERSION=latest
ENVIRONMENT=development

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------
REDIS_CONTAINER_NAME=rag_redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_pass
REDIS_HOST=redis
REDIS_DB=0

# -----------------------------------------------------------------------------
# CHROMADB CONFIGURATION
# -----------------------------------------------------------------------------
CHROMA_CONTAINER_NAME=rag_chromadb
CHROMA_PORT=8000
CHROMA_HOST=chromadb
CHROMA_VERSION=latest
CHROMA_AUTH_PROVIDER=
CHROMA_SERVER_AUTHN_CREDENTIALS=
CHROMA_SERVER_AUTHN_PROVIDER=
CHROMA_OTEL_EXPORTER_ENDPOINT=
CHROMA_OTEL_EXPORTER_HEADERS=
CHROMA_OTEL_SERVICE_NAME=
CHROMA_OTEL_COLLECTION_ENDPOINT=

# -----------------------------------------------------------------------------
# MONGODB CONFIGURATION
# -----------------------------------------------------------------------------
MONGODB_CONTAINER_NAME=rag_mongodb
MONGODB_HOST=mongodb
MONGODB_VERSION=8.0
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=secure_mongo_password_abc
MONGO_INITDB_DATABASE=ragdb
MONGO_INITDB_PORT=27017

# -----------------------------------------------------------------------------
# ELASTICSEARCH INDEXING CONFIGURATION
# -----------------------------------------------------------------------------
node.name=elasticsearch
cluster.name=rag-elastic-cluster
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=secure_elastic_password_abc

# Secutiry Settings
discovery.type=single-node
bootstrap.memory_lock=true
xpack.security.http.ssl.enabled=false
xpack.security.transport.ssl.enabled=false
xpack.security.enabled=false

# Bulk Indexing Settings
ELASTICSEARCH_BULK_SIZE=100
ELASTICSEARCH_BULK_TIMEOUT=30s
ELASTICSEARCH_REQUEST_TIMEOUT=60s

# Search Settings
ELASTICSEARCH_MAX_RESULT_WINDOW=10000
ELASTICSEARCH_DEFAULT_SEARCH_SIZE=20

# Analysis Settings
ELASTICSEARCH_ANALYZER=standard
ELASTICSEARCH_TOKENIZER=standard
ELASTICSEARCH_TOKEN_FILTERS=lowercase,stop


# -----------------------------------------------------------------------------
# AI/ML MODEL CONFIGURATION
# -----------------------------------------------------------------------------
# Embedding Model - Choose based on your needs:
# - all-MiniLM-L6-v2 (fast, good for most cases)
# - all-mpnet-base-v2 (better quality, slower)
# - sentence-transformers/all-roberta-large-v1 (best quality, slowest)
EMBEDDING_MODEL=all-MiniLM-L6-v2

# Reranker Model - Choose based on your needs:
# - cross-encoder/ms-marco-MiniLM-L-6-v2 (fast)
# - cross-encoder/ms-marco-MiniLM-L-12-v2 (better quality)
# - cross-encoder/ms-marco-electra-base (best quality)
RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2

# Model Cache Directory (inside container)
MODEL_CACHE_DIR=/app/models

# -----------------------------------------------------------------------------
# RAG SYSTEM CONFIGURATION
# -----------------------------------------------------------------------------
# Hybrid Retrieval Weights (should sum to 1.0)
VECTOR_WEIGHT=0.7
BM25_WEIGHT=0.3

# Retrieval Configuration
RERANK_TOP_K=5          # Final number of results after reranking
RETRIEVAL_TOP_K=20      # Initial candidates for reranking

# Document Chunking Configuration
MIN_CHUNK_SIZE=100      # Minimum chunk size in tokens
MAX_CHUNK_SIZE=512      # Maximum chunk size in tokens
CHUNK_OVERLAP=50        # Overlap between chunks in tokens

# Performance Configuration
MAX_WORKERS=4           # Number of worker processes
BATCH_SIZE=32           # Batch size for processing
PROCESSING_TIMEOUT=300  # Timeout for processing tasks (seconds)

# -----------------------------------------------------------------------------
# API CONFIGURATION
# -----------------------------------------------------------------------------
TEST_API_PORT=5000
API_DEBUG=false
API_TIMEOUT=30          # API request timeout (seconds)

# Web UI Configuration (if enabled)
WEB_UI_PORT=8080
WEB_UI_TITLE=Advanced RAG System
WEB_UI_THEME=light      # light, dark, auto

# -----------------------------------------------------------------------------
# FILE UPLOAD CONFIGURATION
# -----------------------------------------------------------------------------
MAX_FILE_SIZE=52428800  # 50MB in bytes
ALLOWED_EXTENSIONS=pdf,docx,doc,txt,md

# -----------------------------------------------------------------------------
# LOGGING CONFIGURATION
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO          # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# -----------------------------------------------------------------------------
# MONITORING CONFIGURATION
# -----------------------------------------------------------------------------
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_VERSION=latest
PROMETHEUS_RETENTION=15d

# Grafana
GRAFANA_PORT=3000
GRAFANA_VERSION=latest
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=secure_grafana_password_ghi
GRAFANA_PLUGINS=

# -----------------------------------------------------------------------------
# SECURITY CONFIGURATION
# -----------------------------------------------------------------------------

# API Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization


